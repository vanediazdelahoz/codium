{
  "ANALYSIS": {
    "BACKEND": {
      "MODULES_STATUS": {
        "AuthModule": {
          "status": "‚úÖ BIEN IMPLEMENTADO",
          "description": "Autenticaci√≥n con JWT, registro y login funcionales",
          "location": "src/interface/http/auth/",
          "components": [
            "AuthController (login, register, getCurrentUser)",
            "JwtAuthGuard (validaci√≥n de tokens)",
            "RolesGuard (validaci√≥n de roles)",
            "LoginUseCase, RegisterUseCase",
            "BcryptService, JwtService"
          ],
          "issues": []
        },
        "ChallengesModule": {
          "status": "‚úÖ BIEN IMPLEMENTADO",
          "description": "CRUD completo de retos",
          "location": "src/interface/http/challenges/",
          "components": [
            "ChallengesController (GET, POST, PATCH, DELETE)",
            "CreateChallengeUseCase",
            "UpdateChallengeUseCase",
            "ListChallengesUseCase",
            "GetChallengeUseCase",
            "DeleteChallengeUseCase",
            "ChallengePrismaRepository"
          ],
          "issues": []
        },
        "SubmissionsModule": {
          "status": "‚ö†Ô∏è PARCIALMENTE INCOMPLETO",
          "description": "Env√≠o de soluciones y procesamiento via queue",
          "location": "src/interface/http/submissions/",
          "components": [
            "SubmissionsController (submit, get, listUserSubmissions)",
            "SubmitSolutionUseCase",
            "GetSubmissionUseCase",
            "ListUserSubmissionsUseCase",
            "SubmissionProcessor (procesamiento via Bull queue)",
            "RunnerService (ejecuci√≥n en contenedores Docker)"
          ],
          "issues": [
            "‚ùå RunnerService y SubmissionProcessor NO est√°n sincronizados - el processor dentro del API y los workers externos procesan redundantemente",
            "‚ö†Ô∏è No hay mecanismo claro de distribuci√≥n de carga entre main API processor y workers externos"
          ]
        },
        "CoursesModule": {
          "status": "‚úÖ BIEN IMPLEMENTADO",
          "description": "CRUD de cursos y enrolamiento de estudiantes",
          "location": "src/interface/http/courses/",
          "components": [
            "CoursesController",
            "CreateCourseUseCase",
            "ListCoursesUseCase",
            "GetCourseUseCase",
            "EnrollStudentUseCase",
            "CoursePrismaRepository"
          ],
          "issues": []
        },
        "EvaluationsModule": {
          "status": "‚úÖ BIEN IMPLEMENTADO",
          "description": "Gesti√≥n de evaluaciones con l√≠mite de tiempo",
          "location": "src/interface/http/evaluations/",
          "components": [
            "EvaluationsController",
            "CreateEvaluationUseCase",
            "UpdateEvaluationUseCase",
            "AddChallengeToEvaluationUseCase",
            "RemoveChallengeFromEvaluationUseCase",
            "EvaluationPrismaRepository"
          ],
          "issues": []
        },
        "LeaderboardsModule": {
          "status": "‚úÖ BIEN IMPLEMENTADO",
          "description": "Rankings por reto, curso y evaluaci√≥n",
          "location": "src/interface/http/leaderboards/",
          "components": [
            "LeaderboardsController",
            "LeaderboardService con 3 m√©todos: getChallengeLeaderboard, getCourseLeaderboard, getEvaluationLeaderboard"
          ],
          "issues": []
        },
        "TestCasesModule": {
          "status": "‚úÖ BIEN IMPLEMENTADO",
          "description": "Gesti√≥n de casos de prueba",
          "location": "src/interface/http/test-cases/",
          "components": [
            "TestCasesController",
            "AddTestCaseUseCase",
            "TestCasePrismaRepository",
            "Filtrado autom√°tico de casos ocultos para estudiantes"
          ],
          "issues": []
        },
        "GroupsModule": {
          "status": "‚ùå INCOMPLETO",
          "description": "Gesti√≥n de grupos dentro de cursos",
          "location": "src/interface/http/groups/",
          "components": [
            "GroupsController (b√°sico con m√©todos GET, POST directos a Prisma)"
          ],
          "issues": [
            "‚ùå No usa arquitectura completa: no tiene UseCases ni Repositories pattern",
            "‚ùå Accede directamente a PrismaService en el controller",
            "‚ùå Schema.prisma NO tiene modelo Group - referenciado en controller pero no definido",
            "‚ùå Falta autorizaci√≥n y validaci√≥n correcta"
          ]
        },
        "EnrollmentsModule": {
          "status": "‚ùå NO IMPLEMENTADO",
          "description": "Gesti√≥n de inscripciones de estudiantes",
          "location": "src/interface/http/enrollments/",
          "components": [
            "EnrollmentsController (existe pero vac√≠o)"
          ],
          "issues": [
            "‚ùå M√≥dulo existe pero sin implementaci√≥n",
            "‚ùå La funcionalidad de enrolamiento est√° en CoursesModule pero tambi√©n en el m√≥dulo de Enrollments"
          ]
        }
      },
      "IMPLEMENTED": [
        "‚úÖ Autenticaci√≥n JWT con rol-based access control",
        "‚úÖ CRUD completo para Retos (Challenges)",
        "‚úÖ Env√≠o de soluciones y procesamiento asincr√≥nico (Bull Queue)",
        "‚úÖ CRUD de Cursos y enrolamiento de estudiantes",
        "‚úÖ Gesti√≥n de Evaluaciones con l√≠mites de tiempo",
        "‚úÖ 3 tipos de Leaderboards (reto, curso, evaluaci√≥n)",
        "‚úÖ Gesti√≥n de Casos de Prueba con visibilidad controlada",
        "‚úÖ Ejecuci√≥n de c√≥digo en contenedores Docker isolados (RunnerService)",
        "‚úÖ 4 Lenguajes soportados: Python, Java, Node.js, C++",
        "‚úÖ Validaci√≥n de datos con class-validator",
        "‚úÖ Documentaci√≥n Swagger/OpenAPI",
        "‚úÖ Guards de autorizaci√≥n: JwtAuthGuard, RolesGuard",
        "‚úÖ Mappers para convertir entre DTOs y entities"
      ],
      "INCOMPLETE": [
        "‚ùå GroupsModule: No usa pattern arquitect√≥nico correcto",
        "‚ùå EnrollmentsModule: Vac√≠o/no implementado",
        "‚ùå Sincronizaci√≥n entre RunnerService y workers externos",
        "‚ùå Logging estructurado no implementado",
        "‚ùå M√©tricas no implementadas",
        "‚ùå Error handling inconsistente en algunos controllers",
        "‚ùå No hay paginaci√≥n en listados"
      ],
      "ISSUES": [
        {
          "severity": "üî¥ CR√çTICO",
          "title": "Redundancia en procesamiento de submissions",
          "description": "El SubmissionProcessor corre dentro del API (src/infrastructure/queue/submission.processor.ts) Y simult√°neamente hay workers externos (workers/python-worker, workers/nodejs-worker, etc). Ambos procesan el mismo job de Redis.",
          "file": "src/infrastructure/queue/submission.processor.ts vs workers/*/worker.ts",
          "impact": "Submissions podr√≠an procesarse dos veces o causar race conditions"
        },
        {
          "severity": "üî¥ CR√çTICO",
          "title": "Modelo Group no existe en Schema.prisma",
          "description": "GroupsController intenta usar prisma.group pero el modelo no est√° definido en schema.prisma",
          "file": "src/interface/http/groups/groups.controller.ts vs prisma/schema.prisma",
          "impact": "RuntimeError cuando se intenta crear/listar grupos"
        },
        {
          "severity": "üü† ALTO",
          "title": "GroupsController no sigue arquitectura",
          "description": "GroupsController accede directamente a PrismaService sin usar patr√≥n Repositories+UseCases",
          "file": "src/interface/http/groups/groups.controller.ts",
          "impact": "Inconsistencia arquitect√≥nica, dif√≠cil de testear y mantener"
        },
        {
          "severity": "üü† ALTO",
          "title": "Login API retorna campo incorrecto",
          "description": "LoginDto espera 'accessToken' pero AuthController podr√≠a retornar 'access_token'",
          "file": "frontend/lib/api-client.ts l√≠nea 28",
          "impact": "Login falla silenciosamente, frontend no guarda token correctamente"
        },
        {
          "severity": "üü† ALTO",
          "title": "RunnerService ejecuta directamente en API",
          "description": "RunnerService crea contenedores Docker directamente en el proceso API. Deber√≠a ser delegado solo a workers",
          "file": "src/infrastructure/runners/runner.service.ts",
          "impact": "El API se vuelve lento con muchas submissions; workers nunca se usan"
        },
        {
          "severity": "üü† ALTO",
          "title": "Gesti√≥n de memoria en RunnerService incompleta",
          "description": "RunnerService no rastrea ni reporta uso real de memoria, solo captura stderr",
          "file": "src/infrastructure/runners/runner.service.ts l√≠nea ~200",
          "impact": "M√©trica memoryUsedMb siempre es 0"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Falta de logging estructurado",
          "description": "No hay logging centralizado, solo console.log/Logger",
          "file": "Todo el backend",
          "impact": "Dif√≠cil debugging en producci√≥n"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Falta de paginaci√≥n",
          "description": "Listados sin paginaci√≥n (listChallenges, listCourses, etc)",
          "file": "src/core/application/*/usecases/list-*.usecase.ts",
          "impact": "Mal rendimiento con muchos registros"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Versionado de API no implementado",
          "description": "No hay versionado de endpoints (/api/v1/, /api/v2/)",
          "file": "src/main.ts",
          "impact": "Cambios futuros romper√°n clientes existentes"
        }
      ]
    },
    "FRONTEND": {
      "PAGES_COMPONENTS": {
        "Public Pages": {
          "status": "‚úÖ IMPLEMENTADAS",
          "pages": [
            "/ - Landing page con descripci√≥n de funcionalidades",
            "/login - P√°gina de login",
            "/register - P√°gina de registro"
          ],
          "issues": []
        },
        "Dashboard (Profesor/Admin)": {
          "status": "‚ö†Ô∏è PARCIALMENTE",
          "pages": [
            "‚úÖ /dashboard - Panel de control con stats",
            "‚úÖ /dashboard/challenges - Listar retos con estado (published/draft)",
            "‚úÖ /dashboard/challenges/create - Crear reto",
            "‚úÖ /dashboard/courses - Listar y crear cursos",
            "‚úÖ /dashboard/courses/[id] - Detalles curso con grupos",
            "‚úÖ /dashboard/evaluations - Listar evaluaciones",
            "‚ö†Ô∏è /dashboard/submissions - Mock data, no conectado a API"
          ],
          "issues": [
            "‚ùå Challenges page usa mock data hardcodeado, no consume API",
            "‚ùå Courses page usa estado local, no persiste cambios",
            "‚ùå Falta formulario para crear evaluaci√≥n",
            "‚ùå Falta p√°gina de editar reto",
            "‚ùå Falta p√°gina de editar evaluaci√≥n"
          ]
        },
        "Student Pages": {
          "status": "‚ö†Ô∏è PARCIALMENTE",
          "pages": [
            "‚úÖ /student - Dashboard estudiantil",
            "‚úÖ /student/courses - Listar cursos inscritos",
            "‚úÖ /student/courses/[id] - Detalles curso",
            "‚úÖ /student/courses/[id]/challenges/[challengeId] - Resolver reto (con editor)",
            "‚úÖ /student/courses/[id]/evaluations/[evaluationId] - Tomar evaluaci√≥n",
            "‚úÖ /student/evaluations - Listar evaluaciones",
            "‚úÖ /student/challenges - Listar retos disponibles"
          ],
          "issues": [
            "‚ö†Ô∏è P√°ginas existen pero usan mock data parcialmente",
            "‚ùå No hay integraci√≥n real con API para resolver retos",
            "‚ùå No hay timer real para evaluaciones",
            "‚ùå No hay feedback real de resultados de test cases"
          ]
        }
      },
      "COMPONENTS": {
        "Implemented": [
          "‚úÖ dashboard-sidebar - Navegaci√≥n sidebar del dashboard",
          "‚úÖ student-sidebar - Navegaci√≥n sidebar del estudiante",
          "‚úÖ challenge-submissions - Componente para listar submissions",
          "‚úÖ challenge-test-cases - Componente para gestionar test cases",
          "‚úÖ challenge-leaderboard - Mostrar ranking de un reto",
          "‚úÖ group-challenges - Listar retos de un grupo",
          "‚úÖ group-evaluations - Listar evaluaciones de un grupo",
          "‚úÖ group-leaderboard - Mostrar ranking de un grupo",
          "‚úÖ theme-provider - Provider de tema dark/light",
          "‚úÖ codium-logo - Logo del proyecto"
        ],
        "Missing": [
          "‚ùå CodeEditor component - Editor de c√≥digo para resolver retos",
          "‚ùå EvaluationTimer component - Timer con cuenta regresiva",
          "‚ùå SubmissionResults component - Mostrar resultados de test cases",
          "‚ùå ChallengeDifficultyChart - Gr√°fico de dificultad",
          "‚ùå StudentProgressChart - Gr√°fico de progreso del estudiante",
          "‚ùå RankingChart - Visualizaci√≥n de leaderboard"
        ]
      },
      "API_EXPECTATIONS": [
        {
          "endpoint": "POST /api/auth/login",
          "expected_response": "{\"access_token\": \"...\", \"user\": {...}}",
          "actual_response": "Incierto - frontend espera 'access_token'",
          "status": "‚ö†Ô∏è DESALINEADO"
        },
        {
          "endpoint": "GET /api/challenges",
          "expected_behavior": "Listar retos del usuario seg√∫n rol",
          "implemented": "‚úÖ S√ç",
          "frontend_usage": "challengesApi.list(courseId?)",
          "status": "‚úÖ OK"
        },
        {
          "endpoint": "GET /api/submissions/my-submissions",
          "expected_behavior": "Listar submissions del usuario autenticado",
          "implemented": "‚úÖ S√ç",
          "frontend_usage": "submissionsApi.list()",
          "status": "‚úÖ OK"
        },
        {
          "endpoint": "POST /api/submissions",
          "expected_behavior": "Enviar soluci√≥n y encolarla",
          "implemented": "‚úÖ S√ç",
          "frontend_usage": "submissionsApi.submit({challengeId, code, language})",
          "status": "‚úÖ OK",
          "note": "Frontend no tiene UI para enviar, solo mock"
        },
        {
          "endpoint": "GET /api/leaderboards/challenges/:id",
          "expected_behavior": "Ranking de reto",
          "implemented": "‚úÖ S√ç",
          "frontend_usage": "leaderboardsApi.getChallengeLeaderboard(id)",
          "status": "‚úÖ OK"
        },
        {
          "endpoint": "GET /api/courses",
          "expected_behavior": "Listar cursos del usuario",
          "implemented": "‚úÖ S√ç",
          "frontend_usage": "coursesApi.list()",
          "status": "‚úÖ OK"
        },
        {
          "endpoint": "POST /api/challenges",
          "expected_behavior": "Crear nuevo reto (profesor/admin)",
          "implemented": "‚úÖ S√ç",
          "frontend_usage": "challengesApi.create(dto)",
          "status": "‚ö†Ô∏è Frontend no tiene formulario de creaci√≥n funcional"
        },
        {
          "endpoint": "GET /api/auth/me",
          "expected_behavior": "Obtener usuario actual",
          "implemented": "‚úÖ S√ç",
          "frontend_usage": "apiClient.authApi.getCurrentUser()",
          "status": "‚úÖ OK"
        }
      ],
      "ISSUES": [
        {
          "severity": "üî¥ CR√çTICO",
          "title": "Login incorrecto - Campo access_token vs token",
          "description": "frontend/lib/api-client.ts l√≠nea 28 busca response.access_token pero backend podr√≠a retornar accessToken",
          "file": "frontend/lib/api-client.ts",
          "impact": "Login no funciona, usuario no puede autenticarse"
        },
        {
          "severity": "üü† ALTO",
          "title": "Mock data en lugar de llamadas API",
          "description": "Muchas p√°ginas usan estado local con mock data en lugar de consumir API",
          "files": [
            "frontend/app/dashboard/challenges/page.tsx - hardcoded challenges",
            "frontend/app/dashboard/courses/page.tsx - estado local",
            "frontend/app/dashboard/submissions/page.tsx - mock submissions"
          ],
          "impact": "Cambios no se persistenGuest, UI no refleja estado real"
        },
        {
          "severity": "üü† ALTO",
          "title": "Falta componente CodeEditor",
          "description": "No hay forma de resolver retos - no existe editor de c√≥digo",
          "file": "frontend/components/ - FALTA",
          "impact": "Estudiantes no pueden escribir ni enviar soluciones"
        },
        {
          "severity": "üü† ALTO",
          "title": "Falta feedback de submissions",
          "description": "No hay componente para mostrar resultados de test cases",
          "file": "frontend/components/ - FALTA",
          "impact": "Estudiantes no ven si su soluci√≥n es correcta"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Sin timer para evaluaciones",
          "description": "P√°ginas de evaluaci√≥n no tienen cuenta regresiva de tiempo",
          "file": "frontend/app/student/courses/[id]/evaluations/[evaluationId]/page.tsx",
          "impact": "Estudiantes no saben cu√°nto tiempo les queda"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Sin sincronizaci√≥n de estado de autenticaci√≥n",
          "description": "No hay Provider global de autenticaci√≥n (AuthContext)",
          "file": "frontend/ - FALTA",
          "impact": "Token se guarda pero estado no est√° sincronizado entre p√°ginas"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Sin manejo de errores de API",
          "description": "API client no retry, no exponential backoff",
          "file": "frontend/lib/api-client.ts",
          "impact": "Una falla de red requiere reintentar manualmente"
        }
      ]
    },
    "DATABASE": {
      "MODELS_STATUS": {
        "User": {
          "status": "‚úÖ COMPLETO",
          "fields": [
            "id (UUID, PK)",
            "email (UNIQUE)",
            "password (bcrypt hash)",
            "firstName, lastName",
            "role (STUDENT, PROFESSOR, ADMIN)",
            "createdAt, updatedAt"
          ],
          "relations": [
            "submissions (1:N)",
            "coursesEnrolled (N:M via CourseStudent)",
            "coursesProfessor (N:M)",
            "createdChallenges (1:N)"
          ],
          "issues": []
        },
        "Course": {
          "status": "‚úÖ COMPLETO",
          "fields": [
            "id, name, code (UNIQUE), group, semester",
            "createdAt, updatedAt"
          ],
          "relations": [
            "professors (N:M)",
            "students (N:M via CourseStudent)",
            "challenges (1:N)",
            "submissions (1:N)",
            "evaluations (1:N)"
          ],
          "issues": []
        },
        "Challenge": {
          "status": "‚úÖ COMPLETO",
          "fields": [
            "id, title, description, difficulty (EASY/MEDIUM/HARD)",
            "tags (array), timeLimit (ms), memoryLimit (MB)",
            "status (DRAFT/PUBLISHED/ARCHIVED)",
            "courseId, createdById",
            "createdAt, updatedAt"
          ],
          "relations": [
            "course (N:1)",
            "createdBy (User)",
            "testCases (1:N)",
            "submissions (1:N)"
          ],
          "issues": []
        },
        "TestCase": {
          "status": "‚úÖ COMPLETO",
          "fields": [
            "id, challengeId, input, expectedOutput",
            "isHidden (boolean), points (int), order (int)"
          ],
          "relations": [
            "challenge (N:1 cascade)",
            "results (1:N)"
          ],
          "issues": []
        },
        "Submission": {
          "status": "‚úÖ COMPLETO",
          "fields": [
            "id, userId, challengeId, courseId",
            "code (TEXT), language (PYTHON/JAVA/NODEJS/CPP)",
            "status (QUEUED/RUNNING/ACCEPTED/WRONG_ANSWER/TIME_LIMIT_EXCEEDED/RUNTIME_ERROR/COMPILATION_ERROR)",
            "score (0-100), timeMsTotal, memoryUsedMb",
            "createdAt, updatedAt"
          ],
          "relations": [
            "user (N:1)",
            "challenge (N:1)",
            "course (N:1)",
            "results (1:N TestCaseResult)"
          ],
          "issues": []
        },
        "TestCaseResult": {
          "status": "‚úÖ COMPLETO",
          "fields": [
            "id, submissionId, testCaseId",
            "status (PASS/FAIL/TIMEOUT/RUNTIME_ERROR)",
            "timeMs, memoryMb, output, error"
          ],
          "relations": [
            "submission (N:1 cascade)",
            "testCase (N:1)"
          ],
          "issues": []
        },
        "Evaluation": {
          "status": "‚úÖ COMPLETO",
          "fields": [
            "id, name, description, courseId",
            "status (DRAFT/PUBLISHED/CLOSED)",
            "startDate, endDate",
            "createdAt, updatedAt"
          ],
          "relations": [
            "course (N:1)",
            "challenges (N:M via EvaluationChallenge)"
          ],
          "issues": []
        },
        "EvaluationChallenge": {
          "status": "‚úÖ COMPLETO",
          "fields": [
            "id, evaluationId, challengeId, order"
          ],
          "relations": [
            "evaluation (N:1 cascade)",
            "challenge (UNIQUE per evaluation)"
          ],
          "issues": []
        },
        "CourseStudent": {
          "status": "‚úÖ COMPLETO",
          "fields": [
            "courseId, studentId (composite PK)",
            "enrolledAt"
          ],
          "relations": [
            "course (N:1 cascade)",
            "student (N:1 cascade)"
          ],
          "issues": []
        },
        "Group": {
          "status": "‚ùå FALTA",
          "expected_fields": [
            "id, name, courseId, number",
            "createdAt, updatedAt"
          ],
          "expected_relations": [
            "course (N:1)",
            "students (N:M)",
            "challenges (N:M)"
          ],
          "issues": [
            "‚ùå Modelo no existe en schema.prisma pero GroupsController lo referencia"
          ]
        }
      },
      "ISSUES": [
        {
          "severity": "üî¥ CR√çTICO",
          "title": "Modelo Group no existe en schema.prisma",
          "description": "GroupsController intenta usar prisma.group pero no est√° definido. Causar√° runtime errors.",
          "impact": "Funcionalidad de grupos completamente rota"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Falta cascada en algunas relaciones",
          "description": "No todas las relaciones 1:N tienen onDelete: Cascade definido",
          "file": "prisma/schema.prisma",
          "impact": "Problemas al eliminar registros padres"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Indizaci√≥n incompleta",
          "description": "Faltan √≠ndices en campos com√∫nmente consultados (userId, challengeId, courseId)",
          "file": "prisma/schema.prisma",
          "impact": "Queries lentas en tablas grandes"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Sin auditor√≠a de cambios",
          "description": "No hay tracking de qui√©n cambi√≥ qu√© y cu√°ndo (excepto timestamps b√°sicos)",
          "impact": "Imposible auditar cambios de administrador o profesor"
        }
      ]
    },
    "DOCKER_INFRASTRUCTURE": {
      "SERVICES": {
        "postgres": {
          "status": "‚úÖ CONFIGURADO",
          "image": "postgres:16-alpine",
          "port": "5432",
          "healthcheck": "‚úÖ Presente",
          "volumes": "postgres_data",
          "env_vars": [
            "POSTGRES_USER=codium",
            "POSTGRES_PASSWORD=codium_password",
            "POSTGRES_DB=codium_db"
          ],
          "issues": []
        },
        "redis": {
          "status": "‚úÖ CONFIGURADO",
          "image": "redis:7-alpine",
          "port": "6379",
          "healthcheck": "‚úÖ Presente",
          "volumes": "redis_data",
          "issues": []
        },
        "api": {
          "status": "‚úÖ CONFIGURADO",
          "dockerfile": "Dockerfile.dev",
          "port": "3000",
          "depends_on": "postgres, redis",
          "volumes": [
            ".:/app (code hot-reload)",
            "/app/node_modules",
            "/var/run/docker.sock (Docker-in-Docker para ejecutar contenedores)"
          ],
          "command": "pnpm run start:dev",
          "issues": [
            "‚ö†Ô∏è Expone /var/run/docker.sock - riesgo de seguridad"
          ]
        },
        "frontend": {
          "status": "‚úÖ CONFIGURADO",
          "dockerfile": "Dockerfile.frontend",
          "port": "3001",
          "build_args": "NEXT_PUBLIC_API_URL",
          "depends_on": "api",
          "issues": [
            "‚ö†Ô∏è NEXT_PUBLIC_API_URL hardcoded a http://localhost:3001 (debe ser http://api:3000/api en contenedor)"
          ]
        },
        "worker-python": {
          "status": "‚úÖ CONFIGURADO",
          "dockerfile": "workers/python-worker/Dockerfile",
          "depends_on": "postgres, redis",
          "volumes": "/var/run/docker.sock",
          "issues": [
            "‚ö†Ô∏è Expone socket Docker"
          ]
        },
        "worker-java": {
          "status": "‚úÖ CONFIGURADO",
          "dockerfile": "workers/java-worker/Dockerfile",
          "issues": []
        },
        "worker-nodejs": {
          "status": "‚úÖ CONFIGURADO",
          "dockerfile": "workers/nodejs-worker/Dockerfile",
          "issues": []
        },
        "worker-cpp": {
          "status": "‚úÖ CONFIGURADO",
          "dockerfile": "workers/cpp-worker/Dockerfile",
          "issues": []
        }
      },
      "WORKERS": {
        "python-worker": {
          "status": "‚úÖ IMPLEMENTADO",
          "file": "workers/python-worker/worker.ts",
          "language_support": "PYTHON",
          "container_image": "python:3.11-alpine",
          "functionality": [
            "‚úÖ Escucha cola Redis (submissions)",
            "‚úÖ Ejecuta c√≥digo Python en contenedor aislado",
            "‚úÖ Compara salida esperada con obtenida",
            "‚úÖ Reporta resultados a BD"
          ],
          "issues": [
            "‚ö†Ô∏è Redundancia con RunnerService del API"
          ]
        },
        "nodejs-worker": {
          "status": "‚úÖ IMPLEMENTADO",
          "file": "workers/nodejs-worker/worker.ts",
          "language_support": "NODEJS",
          "container_image": "node:20-alpine",
          "functionality": [
            "‚úÖ Ejecuta c√≥digo JavaScript",
            "‚úÖ Usa mismo TAR buffer y Docker abstractions"
          ],
          "issues": [
            "‚ö†Ô∏è Redundancia con RunnerService del API"
          ]
        },
        "java-worker": {
          "status": "‚ùå NO IMPLEMENTADO",
          "file": "workers/java-worker/worker.ts",
          "description": "Archivo existe pero sin contenido",
          "issues": [
            "‚ùå Vac√≠o - no procesa trabajos"
          ]
        },
        "cpp-worker": {
          "status": "‚ùå NO IMPLEMENTADO",
          "file": "workers/cpp-worker/worker.ts",
          "description": "Archivo existe pero sin contenido",
          "issues": [
            "‚ùå Vac√≠o - no procesa trabajos"
          ]
        }
      },
      "ISSUES": [
        {
          "severity": "üî¥ CR√çTICO",
          "title": "Redundancia total de procesamiento",
          "description": "RunnerService en API ejecuta Docker + SubmissionProcessor en Queue + 4 workers externos. Todos compiten por el mismo job.",
          "files": [
            "src/infrastructure/runners/runner.service.ts",
            "src/infrastructure/queue/submission.processor.ts",
            "workers/*/worker.ts"
          ],
          "impact": "Submissions pueden procesarse m√∫ltiples veces o nunca"
        },
        {
          "severity": "üî¥ CR√çTICO",
          "title": "Java y C++ workers no implementados",
          "description": "Archivos vac√≠os pero schema soporta Language.JAVA y Language.CPP",
          "files": "workers/java-worker/worker.ts, workers/cpp-worker/worker.ts",
          "impact": "Estudiantes no pueden enviar soluciones en Java o C++"
        },
        {
          "severity": "üü† ALTO",
          "title": "Exposici√≥n de Docker socket sin restricciones",
          "description": "/var/run/docker.sock expuesto en API, Python, Java, NodeJS, C++ workers",
          "file": "docker-compose.yml",
          "impact": "Contenedor comprometido = host comprometido (privesc attack)"
        },
        {
          "severity": "üü† ALTO",
          "title": "API URL incorrecto en frontend",
          "description": "Frontend env var NEXT_PUBLIC_API_URL hardcoded a http://localhost:3001 en compose",
          "file": "docker-compose.yml l√≠nea 56",
          "impact": "Frontend no puede conectar al API dentro del contenedor"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Sin persistencia de logs",
          "description": "No hay volumen para logs de servicios",
          "file": "docker-compose.yml",
          "impact": "Imposible revisar logs hist√≥ricos"
        },
        {
          "severity": "üü° MEDIO",
          "title": "BASE_URL del env no usado",
          "description": "DATABASE_URL en env pero no se valida existencia",
          "file": "docker-compose.yml",
          "impact": "Errores ocultos si BASE_URL malformado"
        },
        {
          "severity": "üü° MEDIO",
          "title": "Sin l√≠mites de recursos en compose",
          "description": "Servicios sin memoria limits, CPU shares",
          "file": "docker-compose.yml",
          "impact": "Un servicio puede consumir todos los recursos del host"
        }
      ]
    },
    "INFRASTRUCTURE": {
      "QUEUE": {
        "status": "‚ö†Ô∏è PARCIALMENTE IMPLEMENTADO",
        "technology": "Bull + Redis",
        "files": [
          "src/infrastructure/queue/bull.service.ts",
          "src/infrastructure/queue/queue.module.ts",
          "src/infrastructure/queue/submission.processor.ts"
        ],
        "implemented": [
          "‚úÖ Redis connection via BullModule",
          "‚úÖ Queue configuration en app.module.ts",
          "‚úÖ SubmissionProcessor @Process handler",
          "‚úÖ Retry logic (attempts: 3, exponential backoff)"
        ],
        "issues": [
          "‚ö†Ô∏è SubmissionProcessor corre en el mismo proceso que API - deber√≠a ser separado",
          "‚ö†Ô∏è Ning√∫n procesamiento en el processor si workers externos manejan"
        ]
      },
      "RUNNERS": {
        "status": "‚ö†Ô∏è DUPLICADO/CONFLICTIVO",
        "file": "src/infrastructure/runners/runner.service.ts",
        "purpose": "Ejecutar c√≥digo en contenedores Docker aislados",
        "implemented": [
          "‚úÖ 4 m√©todos: runPython, runNodeJs, runCpp, runJava",
          "‚úÖ executeContainer con security constraints",
          "‚úÖ Limits de CPU, memoria, procesos",
          "‚úÖ NetworkMode: none (sin internet)",
          "‚úÖ CapDrop: ALL (m√°xima seguridad)",
          "‚úÖ Timeout handling",
          "‚úÖ TAR buffer creation para escribir archivos"
        ],
        "issues": [
          "‚ùå RunnerService es llamado desde SubmissionProcessor dentro del API",
          "‚ùå Simult√°neamente workers externos tambi√©n lo hacen",
          "‚ùå Deber√≠a ser SOLO en workers, no en API"
        ]
      },
      "SECURITY": {
        "status": "‚úÖ BIEN CONFIGURADO (en servicios de ejecuci√≥n)",
        "files": [
          "src/infrastructure/security/bcrypt.service.ts",
          "src/infrastructure/security/jwt.service.ts"
        ],
        "implemented": [
          "‚úÖ Passwords hasheadas con bcrypt",
          "‚úÖ JWT tokens con expiraci√≥n",
          "‚úÖ JwtAuthGuard para validaci√≥n",
          "‚úÖ RolesGuard para autorizaci√≥n",
          "‚úÖ @Public() decorator para endpoints p√∫blicos",
          "‚úÖ Ejecuci√≥n de c√≥digo en contenedores aislados"
        ],
        "issues": [
          "‚ö†Ô∏è JWT_SECRET en .env de ejemplo sin protecci√≥n",
          "‚ö†Ô∏è Docker socket expuesto en compose (riesgo de privesc)"
        ]
      }
    },
    "MISALIGNMENTS": [
      {
        "component": "Login Response",
        "backend": "Retorna acceso_token (LoginResponse.accessToken)",
        "frontend": "Espera access_token (apiClient.ts l√≠nea 28)",
        "severity": "üî¥ CR√çTICO",
        "fix": "Unificar nombre de campo: ambos deben usar accessToken"
      },
      {
        "component": "Frontend API Base URL",
        "backend": "API corre en :3000/api dentro de contenedor (servicios)",
        "frontend": "Hardcoded http://localhost:3001 en docker-compose env",
        "severity": "üî¥ CR√çTICO",
        "fix": "Cambiar NEXT_PUBLIC_API_URL a http://api:3000/api en compose"
      },
      {
        "component": "Submission Processing",
        "backend": "RunnerService en API + SubmissionProcessor en Queue + Workers externos (Python, Node)",
        "frontend": "Solo espera que API procese (ignora workers)",
        "severity": "üî¥ CR√çTICO",
        "fix": "Decidir: o solo API procesa, o solo workers. Eliminar redundancia."
      },
      {
        "component": "Groups Functionality",
        "backend": "GroupsController hace referencia a prisma.group que NO existe",
        "frontend": "No hay UI para grupos",
        "severity": "üî¥ CR√çTICO",
        "fix": "O implementar modelo Group en schema.prisma, o eliminar Groups completamente"
      },
      {
        "component": "Test Case Visibility",
        "backend": "Esconde test cases isHidden=true para estudiantes",
        "frontend": "No consume API de test cases, usa mock data",
        "severity": "üü° MEDIO",
        "fix": "Frontend debe consultar endpoint de test cases ocultos/visibles"
      },
      {
        "component": "Challenge Status",
        "backend": "Estados: DRAFT, PUBLISHED, ARCHIVED",
        "frontend": "Challenge page solo muestra Publicado/Borrador (sin ARCHIVED)",
        "severity": "üü° MEDIO",
        "fix": "Frontend debe mostrar secci√≥n de archivados o filtrar correctamente"
      },
      {
        "component": "Enrollment Workflow",
        "backend": "EnrollStudentUseCase en CoursesModule + vac√≠o EnrollmentsModule",
        "frontend": "No tiene UI para enrolar estudiantes",
        "severity": "üü° MEDIO",
        "fix": "Completar EnrollmentsModule o consolidar en CoursesModule"
      },
      {
        "component": "Code Submission",
        "backend": "SubmitSolutionUseCase recibe (SubmitSolutionDto, userId)",
        "frontend": "No hay formulario para enviar - no hay CodeEditor component",
        "severity": "üî¥ CR√çTICO",
        "fix": "Crear CodeEditor component con syntax highlighting y env√≠o de soluci√≥n"
      },
      {
        "component": "Evaluation Timer",
        "backend": "Evaluation.startDate, Evaluation.endDate definidos",
        "frontend": "No hay implementaci√≥n de timer o countdown",
        "severity": "üü† ALTO",
        "fix": "Implementar EvaluationTimer component en student/courses/[id]/evaluations/[evaluationId]/"
      },
      {
        "component": "Leaderboard Real-time",
        "backend": "LeaderboardService calcula en tiempo real desde BD",
        "frontend": "No consulta leaderboards, solo mockData",
        "severity": "üü° MEDIO",
        "fix": "Frontend debe llamar leaderboardsApi en p√°ginas de ranking"
      }
    ],
    "CRITICAL_MISSING": [
      {
        "feature": "üî¥ Model 'Group' en Prisma",
        "description": "GroupsController lo referencia pero schema.prisma no lo define",
        "file": "prisma/schema.prisma",
        "priority": "CR√çTICO - bloqueante",
        "impact": "Todas las operaciones de grupos fallar√°n"
      },
      {
        "feature": "üî¥ Java Worker Implementation",
        "description": "workers/java-worker/worker.ts est√° vac√≠o",
        "file": "workers/java-worker/worker.ts",
        "priority": "CR√çTICO - bloqueante para lenguaje Java",
        "impact": "Estudiantes no pueden enviar en Java"
      },
      {
        "feature": "üî¥ C++ Worker Implementation",
        "description": "workers/cpp-worker/worker.ts est√° vac√≠o",
        "file": "workers/cpp-worker/worker.ts",
        "priority": "CR√çTICO - bloqueante para lenguaje C++",
        "impact": "Estudiantes no pueden enviar en C++"
      },
      {
        "feature": "üî¥ Frontend CodeEditor Component",
        "description": "No existe editor de c√≥digo para resolver retos",
        "file": "frontend/components/ - FALTA",
        "priority": "CR√çTICO - bloqueante para usuarios",
        "impact": "Estudiantes no pueden escribir soluciones"
      },
      {
        "feature": "üî¥ Synchronization entre RunnerService y Workers",
        "description": "Redundancia total - ambos procesan mismo job",
        "file": "src/infrastructure/queue/, workers/",
        "priority": "CR√çTICO - causa race conditions",
        "impact": "Submissions se procesan m√∫ltiples veces o nunca"
      },
      {
        "feature": "üî¥ API Response Field Consistency",
        "description": "access_token vs accessToken desalineado",
        "file": "src/core/application/auth vs frontend/lib/api-client",
        "priority": "CR√çTICO - bloqueante para login",
        "impact": "Usuarios no pueden autenticarse"
      },
      {
        "feature": "üü† Frontend EnrollmentsModule Implementation",
        "description": "EnrollmentsModule existe pero vac√≠o",
        "file": "src/interface/http/enrollments/enrollments.controller.ts",
        "priority": "ALTO - feature incompleto",
        "impact": "Flujo de enrolamiento incompleto"
      },
      {
        "feature": "üü† Evaluation Timer Component",
        "description": "No hay countdown timer para evaluaciones",
        "file": "frontend/components/ - FALTA",
        "priority": "ALTO - feature cr√≠tica para evaluaciones",
        "impact": "Estudiantes no saben cu√°nto tiempo les queda"
      },
      {
        "feature": "üü† Submission Results Component",
        "description": "No hay visualizaci√≥n de test case results",
        "file": "frontend/components/ - FALTA",
        "priority": "ALTO - feedback cr√≠tico",
        "impact": "Estudiantes no ven si pasaron test cases"
      },
      {
        "feature": "üü° Pagination en Listados",
        "description": "No hay paginaci√≥n en GET endpoints",
        "file": "src/core/application/*/usecases/list-*.usecase.ts",
        "priority": "MEDIO - escalabilidad",
        "impact": "Mal rendimiento con muchos registros"
      },
      {
        "feature": "üü° Structured Logging",
        "description": "No hay logging centralizado",
        "file": "src/ - TODO",
        "priority": "MEDIO - debugging",
        "impact": "Dif√≠cil tracing en producci√≥n"
      },
      {
        "feature": "üü° API Versioning",
        "description": "No hay /api/v1/, /api/v2/ versionado",
        "file": "src/main.ts",
        "priority": "MEDIO - mantenimiento futuro",
        "impact": "Cambios rompen clientes"
      },
      {
        "feature": "üü° Docker Socket Security Hardening",
        "description": "Socket Docker expuesto sin restricciones",
        "file": "docker-compose.yml",
        "priority": "MEDIO - seguridad",
        "impact": "Riesgo de escalada de privilegios"
      },
      {
        "feature": "üü° Global AuthContext en Frontend",
        "description": "No hay Provider para estado de autenticaci√≥n",
        "file": "frontend/ - FALTA",
        "priority": "MEDIO - estado global",
        "impact": "Estado de auth no sincronizado entre p√°ginas"
      }
    ],
    "PRIORITY_FIXES": [
      {
        "priority": 1,
        "task": "CRITICAL: Definir Modelo Group en Prisma",
        "file": "prisma/schema.prisma",
        "time_estimate": "15 min",
        "reason": "GroupsController y schema desalineados - bloqueante"
      },
      {
        "priority": 2,
        "task": "CRITICAL: Resolver desalineaci√≥n de respuesta de Login",
        "file": "src/core/application/auth vs frontend/lib/api-client.ts",
        "time_estimate": "10 min",
        "reason": "Login completamente roto"
      },
      {
        "priority": 3,
        "task": "CRITICAL: Decidir estrategia de procesamiento de submissions",
        "file": "src/infrastructure/ + workers/",
        "time_estimate": "2 horas",
        "reason": "Redundancia causa race conditions. Elegir: API solo, o Workers solo"
      },
      {
        "priority": 4,
        "task": "CRITICAL: Implementar Java Worker",
        "file": "workers/java-worker/worker.ts",
        "time_estimate": "1 hora",
        "reason": "Lenguaje Java soportado en schema pero worker vac√≠o"
      },
      {
        "priority": 5,
        "task": "CRITICAL: Implementar C++ Worker",
        "file": "workers/cpp-worker/worker.ts",
        "time_estimate": "1 hora",
        "reason": "Lenguaje C++ soportado en schema pero worker vac√≠o"
      },
      {
        "priority": 6,
        "task": "CRITICAL: Crear CodeEditor Component",
        "file": "frontend/components/code-editor.tsx",
        "time_estimate": "3 horas",
        "reason": "Sin editor, estudiantes no pueden resolver retos"
      },
      {
        "priority": 7,
        "task": "CRITICAL: Corregir API URL en Frontend (docker-compose)",
        "file": "docker-compose.yml l√≠nea 56",
        "time_estimate": "5 min",
        "reason": "Frontend no puede conectar al API en contenedor"
      },
      {
        "priority": 8,
        "task": "CRITICAL: Crear Submission Results Component",
        "file": "frontend/components/submission-results.tsx",
        "time_estimate": "2 horas",
        "reason": "Sin feedback visual, estudiantes no saben si pasaron"
      },
      {
        "priority": 9,
        "task": "HIGH: Implementar Evaluation Timer Component",
        "file": "frontend/components/evaluation-timer.tsx",
        "time_estimate": "2 horas",
        "reason": "Evaluaciones requieren l√≠mite de tiempo visible"
      },
      {
        "priority": 10,
        "task": "HIGH: Completar EnrollmentsModule",
        "file": "src/interface/http/enrollments/",
        "time_estimate": "1 hora",
        "reason": "Flujo de inscripci√≥n incompleto"
      },
      {
        "priority": 11,
        "task": "HIGH: Conectar Dashboard Pages a API",
        "file": "frontend/app/dashboard/challenges/, courses/, etc",
        "time_estimate": "3 horas",
        "reason": "Actualmente usan mock data, no persisten cambios"
      },
      {
        "priority": 12,
        "task": "MEDIUM: Agregar Paginaci√≥n a Listados",
        "file": "src/core/application/*/usecases/list-*.usecase.ts",
        "time_estimate": "2 horas",
        "reason": "Escalabilidad con muchos registros"
      },
      {
        "priority": 13,
        "task": "MEDIUM: Implementar Structured Logging",
        "file": "src/ - infrastructure/logging/ (nueva)",
        "time_estimate": "2 horas",
        "reason": "Debugging en producci√≥n dif√≠cil actualmente"
      },
      {
        "priority": 14,
        "task": "MEDIUM: Crear Global AuthContext Frontend",
        "file": "frontend/contexts/auth-context.tsx (nueva)",
        "time_estimate": "1 hora",
        "reason": "Estado de autenticaci√≥n no sincronizado"
      },
      {
        "priority": 15,
        "task": "MEDIUM: Hardening de Docker Socket",
        "file": "docker-compose.yml",
        "time_estimate": "1 hora",
        "reason": "Riesgo de seguridad - privesc attack"
      },
      {
        "priority": 16,
        "task": "LOW: Agregar API Versioning",
        "file": "src/main.ts",
        "time_estimate": "1 hora",
        "reason": "Preparar para cambios futuros sin romper clientes"
      }
    ]
  }
}
